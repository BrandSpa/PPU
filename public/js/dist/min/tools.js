var lang;window.ppu={admin:{}},window.mixins={},window.app={},ppu.pathUrl=window.location.pathname.split("/"),lang=ppu.pathUrl[1],app.compile=function(e){return Handlebars.compile($(e).html())},app.pubsub={},_.extend(app.pubsub,Backbone.Events),$(document).ajaxStart(function(){return NProgress.start()}),$(document).ajaxStop(function(){return NProgress.done()}),$(".select-cities li a").click(function(e){return $(".select-cities li a").removeClass("active"),$(e.currentTarget).addClass("active"),$("#city-info .collapse").removeClass("in")}),$("#footer-content").on("shown.bs.collapse",function(){return $(".open-contact-footer").css("color","#002855")}),$("#footer-content").on("hidden.bs.collapse",function(){return $(".open-contact-footer").css("color","#fff")}),app.compileTemplate=function(e){return e=$(e).html(),Handlebars.compile(e)},ppu.appendDatePickerYear=function(e){return $(e).find(".datepicker-year").datepicker({format:"yyyy",viewMode:"years",minViewMode:"years",language:"es",autoclose:!0})},ppu.appendDatePicker=function(e){return $(e).find(".datepicker").datepicker({format:"dd/mm/yyyy",language:"es",autoclose:!0})},ppu.appendSelect=function(e){return $(e).find("select").selectBoxIt({autoWidth:!1})},ppu.appendCheck=function(e){return $(e).find("input").iCheck({labelHover:!1,cursor:!0,checkboxClass:"icheckbox_square-blue"})},ppu.appendSummernote=function(e){return $(e).find(".summernote").summernote({fontname:["Lato"],onImageUpload:function(e,n,r){return app.uploadPhotoSummernote(e[0],n,r)}})},ppu.appendSummernoteExperience=function(e){return $(e).find(".summernote").summernote({fontNames:["Lato"],onImageUpload:function(e,n,r){return app.uploadPhotoSummernoteExperience(e[0],n,r)}})},app.uploadPhotoSummernote=function(e,n,r){var o;return o=new FormData,o.append("gallery[name]","post_content"),o.append("gallery[img_name]",e),$.ajax({data:o,type:"POST",url:"/api/galleries",cache:!1,contentType:!1,processData:!1,success:function(e){return n.insertImage(r,e)}})},app.uploadPhotoSummernoteExperience=function(e,n,r){var o;return o=new FormData,o.append("gallery[name]","company_logo"),o.append("gallery[img_name]",e),$.ajax({data:o,type:"POST",url:"/api/galleries",cache:!1,contentType:!1,processData:!1,success:function(e){return console.log(e),n.insertImage(r,e)}})},ppu.appendForm=function(e,n){var r;return r=app.compile(n),$(r()).appendTo($(e).find(".fields")).hide().slideDown(),ppu.appendDatePickerYear(e)},ppu.ajaxOptions=function(e,n){return{type:e,data:n,processData:!1,cache:!1,contentType:!1}},ppu.saveMultipeForms=function(e,n,r){var o;return o=$(e).find("form"),n=n,o.each(function(e){var t;return t=new FormData(o[e]),t.append("fields[lawyer_id]",r),n.save(t,$.extend({},ppu.ajaxOptions("POST",t)))})},$(window).on("scroll",_.throttle(function(){return function(){var e,n,r;return e=document.body,r=100,n=e.scrollHeight-window.innerHeight-r,e.scrollTop>n?(console.log("scroll"),app.pubsub.trigger("general:scroll")):void 0}}(this),1e3)),$(".carousel").carousel({interval:2e3}),$(".popver").popover(),$(document).ajaxSend(function(e,n){var r;return r=$("meta[name='csrf-token']").attr("content"),n.setRequestHeader("X-CSRF-Token",r)}),$(document).find(".datepicker-year").datepicker({format:"yyyy",viewMode:"years",minViewMode:"years",language:"es",autoclose:!0}),$(document).find(".datepicker").datepicker({format:"yyyy",language:"es",autoclose:!0}),app.topPadding=$(window).width()<768?200:$(window).width()>768&&$(window).width()<=992?150:$(window).width()>992&&$(window).width()<=1200?35:35,$(window).scroll(function(){return $(window).scrollTop()>app.topPadding?$(".top-bar-container").addClass("to-top"):$(".top-bar-container").removeClass("to-top")}),Backbone.View.prototype.renderPostErrors=function(e,n){var r,o;return e=e,r=this.$el.find("form"),o=JSON.parse(n.responseText),_.each(o,function(e,n){var o;return o=r.find("[name='post["+n+"]' ]"),o.addClass("error"),o.after("<div class='error-message'>"+e+"</div>")})},Backbone.View.prototype.en=function(){var e;return e=ppu.pathUrl[1],"en"===e?!0:!1},Backbone.View.prototype.renderModel=function(){var e,n;return e=$(this.template).html(),n=Handlebars.compile(e),this.container.html(n(this.model.toJSON())),this},Backbone.View.prototype.renderCollection=function(){return this.collection.each(function(e){return this.renderOne(e)},this)},Backbone.View.prototype.notifyError=function(e,n){var r;return r=JSON.parse(n.responseText),r&&"es"===lang?toastr.error("Tiene errores"):void 0},Backbone.View.prototype.renderErrors=function(e,n){var r,o;return e=e,r=this.$el.find("form"),o=JSON.parse(n.responseText),r.find(".error-message").remove(),_.each(o,function(e,n){var o;return o=r.find("[name='fields["+n+"]' ]"),o.addClass("error"),o.after("<div class='error-message'>"+e+"</div>")})},Backbone.View.prototype.removeError=function(e){var n;return n=$(e.currentTarget),n.removeClass("error"),n.parent().find(".error-message").remove()},Backbone.View.prototype.closeModal=function(){return $(".modal-backdrop").remove(),$("body").removeClass("modal-open"),this.remove()},Backbone.View.prototype.setUrlTranslation=function(e){var n,r;return r=e.get("translations"),n=e.get("translation"),window.urlTranslation=r?r.slug:n.slug},Backbone.View.prototype.openShare=function(){return $("#share-modal").modal()};