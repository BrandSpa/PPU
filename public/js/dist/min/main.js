var lang;window.ppu={admin:{}},window.mixins={},window.app={},ppu.pathUrl=window.location.pathname.split("/"),lang=ppu.pathUrl[1],app.compile=function(e){return Handlebars.compile($(e).html())},app.pubsub={},_.extend(app.pubsub,Backbone.Events),$(document).ajaxStart(function(){return NProgress.start()}),$(document).ajaxStop(function(){return NProgress.done()}),$(".select-cities li a").click(function(e){return $(".select-cities li a").removeClass("active"),$(e.currentTarget).addClass("active"),$("#city-info .collapse").removeClass("in")}),$("#footer-content").on("shown.bs.collapse",function(){return $(".open-contact-footer").css("color","#002855")}),$("#footer-content").on("hidden.bs.collapse",function(){return $(".open-contact-footer").css("color","#fff")}),app.compileTemplate=function(e){return e=$(e).html(),Handlebars.compile(e)},ppu.appendDatePickerYear=function(e){return $(e).find(".datepicker-year").datepicker({format:"yyyy",viewMode:"years",minViewMode:"years",language:"es",autoclose:!0})},ppu.appendDatePicker=function(e){return $(e).find(".datepicker").datepicker({format:"dd/mm/yyyy",language:"es",autoclose:!0})},ppu.appendSelect=function(e){return $(e).find("select").selectBoxIt({autoWidth:!1})},ppu.appendCheck=function(e){return $(e).find("input").iCheck({labelHover:!1,cursor:!0,checkboxClass:"icheckbox_square-blue"})},ppu.appendSummernote=function(e){return $(e).find(".summernote").summernote({fontname:["Lato"],onImageUpload:function(e,n,t){return app.uploadPhotoSummernote(e[0],n,t)}})},ppu.appendSummernoteExperience=function(e){return $(e).find(".summernote").summernote({fontNames:["Lato"],onImageUpload:function(e,n,t){return app.uploadPhotoSummernoteExperience(e[0],n,t)}})},app.uploadPhotoSummernote=function(e,n,t){var o;return o=new FormData,o.append("gallery[name]","post_content"),o.append("gallery[img_name]",e),$.ajax({data:o,type:"POST",url:"/api/galleries",cache:!1,contentType:!1,processData:!1,success:function(e){return n.insertImage(t,e)}})},app.uploadPhotoSummernoteExperience=function(e,n,t){var o;return o=new FormData,o.append("gallery[name]","company_logo"),o.append("gallery[img_name]",e),$.ajax({data:o,type:"POST",url:"/api/galleries",cache:!1,contentType:!1,processData:!1,success:function(e){return console.log(e),n.insertImage(t,e)}})},ppu.appendForm=function(e,n){var t;return t=app.compile(n),$(t()).appendTo($(e).find(".fields")).hide().slideDown(),ppu.appendDatePickerYear(e)},ppu.ajaxOptions=function(e,n){return{type:e,data:n,processData:!1,cache:!1,contentType:!1}},ppu.saveMultipeForms=function(e,n,t){var o;return o=$(e).find("form"),n=n,o.each(function(e){var a;return a=new FormData(o[e]),a.append("fields[lawyer_id]",t),n.save(a,$.extend({},ppu.ajaxOptions("POST",a)))})},$(window).on("scroll",_.throttle(function(){return function(){var e,n,t;return e=document.body,t=100,n=e.scrollHeight-window.innerHeight-t,e.scrollTop>n?(console.log("scroll"),app.pubsub.trigger("general:scroll")):void 0}}(this),1e3)),$(".carousel").carousel({interval:2e3}),$(".popver").popover(),$(document).ajaxSend(function(e,n){var t;return t=$("meta[name='csrf-token']").attr("content"),n.setRequestHeader("X-CSRF-Token",t)}),$(document).find(".datepicker-year").datepicker({format:"yyyy",viewMode:"years",minViewMode:"years",language:"es",autoclose:!0}),$(document).find(".datepicker").datepicker({format:"yyyy",language:"es",autoclose:!0}),app.topPadding=$(window).width()<768?200:$(window).width()>768&&$(window).width()<=992?150:$(window).width()>992&&$(window).width()<=1200?35:35,$(window).scroll(function(){return $(window).scrollTop()>app.topPadding?$(".top-bar-container").addClass("to-top"):$(".top-bar-container").removeClass("to-top")});