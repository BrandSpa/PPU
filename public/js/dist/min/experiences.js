var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};$(function(){return ppu.Experience=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.urlRoot="/api/experiences",t}(Backbone.Model),ppu.Experiences=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.url="/api/experiences",t.prototype.model=ppu.Experience,t}(Backbone.Collection),ppu.ExperienceView=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.template=$("#experience-template"),t.prototype.className="col-md-6 col-sm-6 col-xs-12 experience-item",t.prototype.render=function(){var e;return e=app.compile(this.template),$(this.el).html(e(this.model.toJSON())),this},t}(Backbone.View),ppu.ExperiencesView=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.el=$("#experiences"),t.prototype.initialize=function(){return this.listenTo(this.collection,"reset",this.render),app.pubsub.bind("experiences:filter",this.filterCollection,this)},t.prototype.filterCollection=function(e){return this.collection.fetch({reset:!0,lang:app.lang,data:e})},t.prototype.renderOne=function(e){return ppu.experienceView=new ppu.ExperienceView({model:e}),this.$el.append(ppu.experienceView.render().el)},t.prototype.render=function(){return $(this.el).html(""),this.collection.each(function(e){return ppu.experienceView=new ppu.ExperienceView({model:e}),this.$el.append(ppu.experienceView.render().el)},this)},t}(Backbone.View),ppu.ExperiencesFilters=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.el=$("#top-bar"),t.prototype.template=$("#experiences-filter"),t.prototype.events={"change .position":"byPosition","change .country":"byCountry","change .category":"byCategory","keydown .query":"byQuery","submit .search":"bySearch"},t.prototype.initialize=function(){return this.filtersAplied={lang:app.lang}},t.prototype.render=function(){var e;return e=app.compile(this.template),this.$el.html(e),ppu.appendSelect(this.el)},t.prototype.filterBy=function(e){return e=_.extend(this.filtersAplied,e),app.pubsub.trigger("experiences:filter",e)},t.prototype.byPosition=function(e){var t;return t=$(e.currentTarget).find("select").val(),this.filterBy({by_position:t})},t.prototype.byCountry=function(e){var t,r;return t=$(e.currentTarget),2===$(".countries").find('input[type="checkbox"]:checked').length?this.filterBy({by_country:""}):t.find(":not(:checked)")?(r=this.CountryNotChecked(t),this.filterBy({by_country:r})):void 0},t.prototype.CountryNotChecked=function(e){var t;return t="Colombia"===e.val()?"Chile":"Colombia",$(".countries").find("input[value='"+t+"']").prop("checked",!0),t},t.prototype.byCategory=function(e){var t;return t=$(e.currentTarget).find("select").val(),this.filterBy({by_category:t})},t.prototype.byQuery=function(e){var t;return t=$(e.currentTarget).val(),this.filterBy(t.length>=1?{by_keyword:t}:{by_keyword:""})},t.prototype.bySearch=function(e){var t;return e.preventDefault(),t=$(e.currentTarget).find(".query").val(),this.filterBy({by_keyword:t})},t}(Backbone.View),ppu.ExperienceDetailView=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.el=$("#experience"),t.prototype.template=$("#experience-detail-template"),t.prototype.initialize=function(){return this.listenTo(this.model,"change",this.render),this.getTitle()},t.prototype.getTitle=function(){return $("#top-bar").html($("#experience-detail-title").html())},t.prototype.render=function(){var e;return e=app.compile(this.template),this.$el.html(e(this.model.toJSON())),this.setUrlTranslation(this.model)},t}(Backbone.View)});